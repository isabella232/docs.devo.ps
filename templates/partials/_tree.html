{% for val in tree %}
{% if val.type and val.description %}
<dt>
  <code><span class='type'>{{ val.type }}</span> {% if parent %}{{ parent }}.{% endif %}{{ loop.key }}</code>
  {% if val.required == false %}<span class='optional'>Optional</span>{% endif %}{% if val.default %}{% if val.required == false %}, {% endif %}<span class='default'>Default: <code>{{ val.default }}</code></span>{% endif %}
</dt>
<dd class='description'>{{ val.description }}</dd>
{% else %}
{% if not parent %}
{% set parent = loop.key %}
{% else %}
{% set parent_prev = parent %}
{% set parent += '.'+ loop.key %}
{% endif %}
{% set tree = val %}
{% include "_tree.html" %}
{% set parent = parent_prev %}
{% endif %}
{% endfor %}